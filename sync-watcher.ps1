 # ?ㅼ떆媛?Git ?숆린???ㅽ겕由쏀듃 $watchPath = "." $filter = "*.*" $lastSync = Get-Date $lastGitCheck = Get-Date  # 異쒕젰 ?몄퐫?⑹쓣 UTF-8濡??ㅼ젙 $OutputEncoding = [System.Text.Encoding]::UTF8 [Console]::OutputEncoding = [System.Text.Encoding]::UTF8 chcp 65001 | Out-Null  # FileSystemWatcher 媛앹껜 ?앹꽦 $watcher = New-Object System.IO.FileSystemWatcher $watcher.Path = $watchPath $watcher.Filter = $filter $watcher.IncludeSubdirectories = $true $watcher.EnableRaisingEvents = $true  # GitHub 蹂寃쎌궗???뺤씤 ?⑥닔 function Check-GitHubChanges {     try {         git fetch origin         $status = git status         if ($status -like "*Your branch is behind*") {             Write-Host "GitHub 蹂寃쎌궗??媛먯?. ?숆린??以?.."             git pull origin main --rebase             Write-Host "GitHub ?숆린???꾨즺"         }     } catch {         Write-Host "GitHub ?숆린??以??ㅻ쪟 諛쒖깮: $_"     } }  # 蹂寃??대깽??泥섎━ $action = {     $path = $Event.SourceEventArgs.FullPath     $changeType = $Event.SourceEventArgs.ChangeType     $now = Get-Date          # node_modules ?대뜑 蹂寃쎌? 臾댁떆     if ($path -like "*node_modules*") {         return     }          # .git ?대뜑 蹂寃쎌? 臾댁떆     if ($path -like "*.git*") {         return     }          # 留덉?留??숆린?붾줈遺??0.5珥??댁긽 吏?щ뒗吏 ?뺤씤     if (($now - $script:lastSync).TotalMilliseconds -lt 500) {         return     }          $script:lastSync = $now     Write-Host "濡쒖뺄 蹂寃?媛먯?: $path ($changeType)"          # Git 紐낅졊???ㅽ뻾     Start-ThreadJob -ScriptBlock {         git add .         $env:LC_ALL = 'ko_KR.UTF-8'         $commitMessage = "?먮룞 ?숆린?? $using:changeType - $((Get-Date).ToString('yyyy-MM-dd HH:mm:ss'))"         git -c i18n.logoutputencoding=utf-8 commit -m $commitMessage         git push origin main     } }  # ?대깽???깅줉 $handlers = . {     Register-ObjectEvent -InputObject $watcher -EventName Created -Action $action     Register-ObjectEvent -InputObject $watcher -EventName Changed -Action $action     Register-ObjectEvent -InputObject $watcher -EventName Deleted -Action $action     Register-ObjectEvent -InputObject $watcher -EventName Renamed -Action $action }  Write-Host "?ㅼ떆媛??뚯씪 蹂寃?媛먯? ?쒖옉... (醫낅즺?섎젮硫?Ctrl+C瑜??꾨Ⅴ?몄슂)" try {     do {         $now = Get-Date         # 2珥덈쭏??GitHub 蹂寃쎌궗???뺤씤         if (($now - $script:lastGitCheck).TotalSeconds -ge 2) {             $script:lastGitCheck = $now             Check-GitHubChanges         }                  Wait-Event -Timeout 0.1         # 諛깃렇?쇱슫???묒뾽 ?뺣━         Get-Job | Where-Object { $_.State -eq 'Completed' } | Remove-Job     } while ($true) } finally {     # ?뺣━     $handlers | ForEach-Object {         Unregister-Event -SourceIdentifier $_.Name     }     Get-Job | Remove-Job -Force     $watcher.Dispose()     Write-Host "媛먯? 醫낅즺" }